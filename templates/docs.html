<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mitra Codiga - Documentation</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        
        .doc-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            display: grid;
            grid-template-columns: 250px 1fr;
        }
        
        .sidebar {
            background: #1e1e1e;
            color: white;
            padding: 30px 20px;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
        
        .sidebar h2 {
            font-size: 1.5em;
            margin-bottom: 25px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .sidebar-nav {
            list-style: none;
        }
        
        .sidebar-nav li {
            margin: 12px 0;
        }
        
        .sidebar-nav a {
            color: #d4d4d4;
            text-decoration: none;
            font-size: 0.95em;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: block;
        }
        
        .sidebar-nav a:hover {
            background: #3c3c3c;
            color: #667eea;
            padding-left: 16px;
        }
        
        .sidebar-nav a.active {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        
        .main-content {
            padding: 50px 60px;
            background: white;
        }
        
        .header-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 50px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .header-nav h1 {
            font-size: 2.5em;
            color: #1e1e1e;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .back-link {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .back-link:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }
        
        .doc-section {
            display: none;
        }
        
        .doc-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h2 {
            font-size: 2em;
            color: #1e1e1e;
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        h3 {
            font-size: 1.5em;
            color: #2d2d2d;
            margin: 30px 0 15px 0;
        }
        
        h4 {
            font-size: 1.2em;
            color: #444;
            margin: 20px 0 10px 0;
        }
        
        p {
            margin: 15px 0;
            color: #555;
            line-height: 1.8;
        }
        
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            color: #d73a49;
        }
        
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            border-left: 4px solid #667eea;
        }
        
        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }
        
        ul, ol {
            margin: 15px 0 15px 25px;
            color: #555;
        }
        
        li {
            margin: 8px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        table th {
            background: #f5f5f5;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #1e1e1e;
            border-bottom: 2px solid #ddd;
        }
        
        table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            color: #555;
        }
        
        table tr:hover {
            background: #f9f9f9;
        }
        
        .example-box {
            background: #f9f9f9;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }
        
        .example-box strong {
            color: #667eea;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #eee;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
            transform: translateY(-3px);
        }
        
        .feature-card h4 {
            color: #667eea;
            margin-top: 0;
        }
        
        @media (max-width: 768px) {
            .doc-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: relative;
                height: auto;
            }
            
            .main-content {
                padding: 30px 20px;
            }
            
            .header-nav {
                flex-direction: column;
                gap: 15px;
            }
            
            .sidebar-nav a {
                display: inline-block;
                margin-right: 10px;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="doc-container">
        <div class="sidebar">
            <h2>üìö Docs</h2>
            <ul class="sidebar-nav">
                <li><a href="#" onclick="showSection('overview')">Overview</a></li>
                <li><a href="#" onclick="showSection('quickstart')">Quick Start</a></li>
                <li><a href="#" onclick="showSection('syntax')">Syntax & Basics</a></li>
                <li><a href="#" onclick="showSection('types')">Data Types</a></li>
                <li><a href="#" onclick="showSection('control')">Control Flow</a></li>
                <li><a href="#" onclick="showSection('functions')">Functions & Lambdas</a></li>
                <li><a href="#" onclick="showSection('builtins')">Built-in Functions</a></li>
                <li><a href="#" onclick="showSection('stdlib')">Standard Library</a></li>
                <li><a href="#" onclick="showSection('examples')">Examples</a></li>
                <li><a href="#" onclick="showSection('errors')">Error Handling</a></li>
                <li><a href="#" onclick="showSection('tips')">Tips & Tricks</a></li>
            </ul>
        </div>
        
        <div class="main-content">
            <div class="header-nav">
                <h1>üöÄ Mitra Codiga Documentation</h1>
                <a href="/" class="back-link">‚Üê Back to Editor</a>
            </div>
            
            <!-- Overview -->
            <div id="overview" class="doc-section active">
                <h2>Overview</h2>
                <p>Mitra Codiga is a modern, expressive programming language interpreter built with Python. It combines the simplicity of scripting languages with powerful features like first-class functions, modules, and robust error handling.</p>
                <h3>Key Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>‚ú® Variables & Types</h4>
                        <p>Numbers, strings, booleans, lists, dictionaries, and more.</p>
                    </div>
                    <div class="feature-card">
                        <h4>üîÑ Control Flow</h4>
                        <p>if/elif/else, while, for-in loops with break/continue.</p>
                    </div>
                    <div class="feature-card">
                        <h4>‚ö° Functions</h4>
                        <p>Named functions, lambdas, recursion, and closures.</p>
                    </div>
                    <div class="feature-card">
                        <h4>üì¶ Modules</h4>
                        <p>Import and use code from other files.</p>
                    </div>
                    <div class="feature-card">
                        <h4>üõ°Ô∏è Error Handling</h4>
                        <p>Try-catch blocks for graceful error management.</p>
                    </div>
                    <div class="feature-card">
                        <h4>üîß Standard Library</h4>
                        <p>JSON, file I/O, time utilities, and more.</p>
                    </div>
                </div>
            </div>
            
            <!-- Quick Start -->
            <div id="quickstart" class="doc-section">
                <h2>Quick Start</h2>
                <h3>Online (Web UI)</h3>
                <p>You're already here! Just start typing code in the editor and click "Run Code" or press <code>Ctrl+Enter</code>.</p>
                
                <h3>Local REPL</h3>
                <pre><code>python mc_lang.py</code></pre>
                <p>Then type code directly and press Enter to execute.</p>
                
                <h3>Run a File</h3>
                <pre><code>python mc_lang.py myprogram.mc</code></pre>
                
                <h3>Start Web Server</h3>
                <pre><code>python web_app.py</code></pre>
                <p>Then open <code>http://localhost:5000</code> in your browser.</p>
            </div>
            
            <!-- Syntax & Basics -->
            <div id="syntax" class="doc-section">
                <h2>Syntax & Basics</h2>
                
                <h3>Variables</h3>
                <p>Declare variables with <code>let</code>:</p>
                <pre><code>let name = "Alice"
let age = 30
let active = true
let nothing = null</code></pre>
                
                <h3>Comments</h3>
                <pre><code># This is a comment
let x = 10  # inline comment too</code></pre>
                
                <h3>Statements</h3>
                <p>Statements are separated by newlines or semicolons:</p>
                <pre><code>let x = 5
let y = 10
print(x + y)

# Or on one line:
let x = 5; let y = 10; print(x + y)</code></pre>
                
                <h3>Blocks</h3>
                <p>Use curly braces for blocks:</p>
                <pre><code>if x > 5 {
    print("big")
}</code></pre>
            </div>
            
            <!-- Data Types -->
            <div id="types" class="doc-section">
                <h2>Data Types</h2>
                
                <h3>Numbers</h3>
                <pre><code>let a = 42        # Integer
let b = 3.14      # Float
let c = 2 ** 8    # Power: 256</code></pre>
                
                <h3>Strings</h3>
                <pre><code>let s = "Hello, World!"
let empty = ""
let escaped = "Line 1\nLine 2\t\tTabbed"</code></pre>
                
                <h3>Booleans & Null</h3>
                <pre><code>let t = true
let f = false
let n = null</code></pre>
                
                <h3>Lists</h3>
                <pre><code>let nums = [1, 2, 3, 4, 5]
let mixed = [1, "two", true, null]
let nested = [[1, 2], [3, 4]]
print(nums[0])      # 1
nums[1] = 20        # Mutation</code></pre>
                
                <h3>Dictionaries</h3>
                <p>Three ways to create a dictionary:</p>
                <pre><code># Shorthand literal
let user = { name: "Alice", age: 30 }

# Keyword literal
let config = dict { theme: "dark", version: 1 }

# Constructor
let meta = dict(author="Sarthak", year=2025)

# Access and mutate
print(user["name"])      # "Alice"
user["city"] = "Paris"
print(user.keys())       # ["name", "age", "city"]</code></pre>
            </div>
            
            <!-- Control Flow -->
            <div id="control" class="doc-section">
                <h2>Control Flow</h2>
                
                <h3>If/Elif/Else</h3>
                <pre><code>if x > 10 {
    print("big")
} elif x > 5 {
    print("medium")
} else {
    print("small")
}</code></pre>
                
                <h3>While Loops</h3>
                <pre><code>let i = 0
while i < 5 {
    print(i)
    i = i + 1
}</code></pre>
                
                <h3>For-In Loops</h3>
                <pre><code>for x in [1, 2, 3] {
    print(x)
}

for i in range(5) {
    print(i)
}</code></pre>
                
                <h3>Break & Continue</h3>
                <pre><code>for i in range(10) {
    if i == 2 { continue }    # Skip
    if i == 6 { break }       # Exit
    print(i)                  # 0, 1, 3, 4, 5
}</code></pre>
            </div>
            
            <!-- Functions & Lambdas -->
            <div id="functions" class="doc-section">
                <h2>Functions & Lambdas</h2>
                
                <h3>Named Functions</h3>
                <pre><code>fun add(a, b) {
    return a + b
}

print(add(3, 7))  # 10</code></pre>
                
                <h3>Recursion</h3>
                <pre><code>fun factorial(n) {
    if n <= 1 { return 1 }
    return n * factorial(n - 1)
}

print(factorial(5))  # 120</code></pre>
                
                <h3>Lambda (Anonymous Functions)</h3>
                <pre><code>let square = lambda x: x * x
print(square(5))    # 25

let add = lambda a, b: a + b
print(add(3, 4))    # 7</code></pre>
                
                <h3>Lambda with Complex Expressions</h3>
                <pre><code>let filter_evens = lambda x: (x % 2 == 0) and (x > 2)
let result = filter(filter_evens, [1, 2, 3, 4, 5])
print(result)  # [4]</code></pre>
            </div>
            
            <!-- Built-in Functions -->
            <div id="builtins" class="doc-section">
                <h2>Built-in Functions</h2>
                
                <h3>I/O</h3>
                <table>
                    <tr>
                        <th>Function</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><code>print(...)</code></td>
                        <td>Print to output</td>
                        <td><code>print("hello", 42)</code></td>
                    </tr>
                    <tr>
                        <td><code>input(prompt)</code></td>
                        <td>Read from input</td>
                        <td><code>let name = input("Name: ")</code></td>
                    </tr>
                </table>
                
                <h3>Type Conversion</h3>
                <table>
                    <tr>
                        <th>Function</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><code>int(x)</code></td>
                        <td>Convert to integer</td>
                        <td><code>int("42")</code></td>
                    </tr>
                    <tr>
                        <td><code>float(x)</code></td>
                        <td>Convert to float</td>
                        <td><code>float("3.14")</code></td>
                    </tr>
                    <tr>
                        <td><code>str(x)</code></td>
                        <td>Convert to string</td>
                        <td><code>str(42)</code></td>
                    </tr>
                    <tr>
                        <td><code>type(x)</code></td>
                        <td>Get type name</td>
                        <td><code>type([1,2])</code></td>
                    </tr>
                </table>
                
                <h3>Collection Functions</h3>
                <table>
                    <tr>
                        <th>Function</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><code>len(x)</code></td>
                        <td>Length of collection</td>
                        <td><code>len([1,2,3])</code></td>
                    </tr>
                    <tr>
                        <td><code>range(n)</code></td>
                        <td>Range 0 to n-1</td>
                        <td><code>range(5)</code></td>
                    </tr>
                    <tr>
                        <td><code>map(fn, list)</code></td>
                        <td>Apply fn to each element</td>
                        <td><code>map(lambda x: x*2, [1,2,3])</code></td>
                    </tr>
                    <tr>
                        <td><code>filter(fn, list)</code></td>
                        <td>Keep elements where fn is true</td>
                        <td><code>filter(lambda x: x>2, [1,2,3])</code></td>
                    </tr>
                    <tr>
                        <td><code>sum(list)</code></td>
                        <td>Sum all elements</td>
                        <td><code>sum([1,2,3])</code></td>
                    </tr>
                    <tr>
                        <td><code>min(list)</code></td>
                        <td>Minimum element</td>
                        <td><code>min([3,1,2])</code></td>
                    </tr>
                    <tr>
                        <td><code>max(list)</code></td>
                        <td>Maximum element</td>
                        <td><code>max([3,1,2])</code></td>
                    </tr>
                    <tr>
                        <td><code>sorted(list)</code></td>
                        <td>Sort a list</td>
                        <td><code>sorted([3,1,2])</code></td>
                    </tr>
                    <tr>
                        <td><code>reversed(list)</code></td>
                        <td>Reverse a list</td>
                        <td><code>reversed([1,2,3])</code></td>
                    </tr>
                    <tr>
                        <td><code>enumerate(list)</code></td>
                        <td>Get (index, value) pairs</td>
                        <td><code>enumerate(["a","b"])</code></td>
                    </tr>
                    <tr>
                        <td><code>zip(a, b)</code></td>
                        <td>Combine lists element-wise</td>
                        <td><code>zip([1,2], ["a","b"])</code></td>
                    </tr>
                    <tr>
                        <td><code>all(list)</code></td>
                        <td>True if all elements are truthy</td>
                        <td><code>all([true, 1, "a"])</code></td>
                    </tr>
                    <tr>
                        <td><code>any(list)</code></td>
                        <td>True if any element is truthy</td>
                        <td><code>any([false, 0, "a"])</code></td>
                    </tr>
                </table>
                
                <h3>Math Functions</h3>
                <table>
                    <tr>
                        <th>Function</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><code>abs(x)</code></td>
                        <td>Absolute value</td>
                        <td><code>abs(-5)</code></td>
                    </tr>
                    <tr>
                        <td><code>round(x, n)</code></td>
                        <td>Round to n decimal places</td>
                        <td><code>round(3.14159, 2)</code></td>
                    </tr>
                </table>
            </div>
            
            <!-- Standard Library -->
            <div id="stdlib" class="doc-section">
                <h2>Standard Library</h2>
                
                <h3>JSON</h3>
                <pre><code>let obj = json_parse("{\"a\":1,\"b\":[1,2,3]}")
print(obj["a"])  # 1

let json_str = json_stringify(dict(x=10, y=20))
print(json_str)  # {"x": 10, "y": 20}</code></pre>
                
                <h3>Time & Date</h3>
                <pre><code>let current = now()
print(current)  # 2025-12-06T14:30:45

let epoch = timestamp()
print(epoch)    # 1733504445

sleep(1)        # Sleep for 1 second</code></pre>
                
                <h3>File I/O (CLI only)</h3>
                <pre><code>write_file("data.txt", "Hello")
append_file("data.txt", " World")
let content = read_file("data.txt")
print(content)  # Hello World</code></pre>
                
                <h3>Modules</h3>
                <pre><code># Create math_utils.mc:
# fun add(a, b) { return a + b }

# In your code:
let math = import "math_utils.mc"
print(math["add"](2, 3))  # 5</code></pre>
            </div>
            
            <!-- Examples -->
            <div id="examples" class="doc-section">
                <h2>Examples</h2>
                
                <h3>FizzBuzz</h3>
                <pre><code>for i in range(1, 16) {
    if i % 15 == 0 {
        print("FizzBuzz")
    } elif i % 3 == 0 {
        print("Fizz")
    } elif i % 5 == 0 {
        print("Buzz")
    } else {
        print(i)
    }
}</code></pre>
                
                <h3>List Processing</h3>
                <pre><code>let nums = [1, 2, 3, 4, 5]
let squared = map(lambda x: x * x, nums)
let evens = filter(lambda x: x % 2 == 0, squared)
print(sum(evens))  # 4 + 16 = 20</code></pre>
                
                <h3>Data Structure</h3>
                <pre><code>let users = [
    { name: "Alice", age: 30 },
    { name: "Bob", age: 25 },
    { name: "Charlie", age: 35 }
]

for user in users {
    print(user["name"], "is", user["age"])
}</code></pre>
            </div>
            
            <!-- Error Handling -->
            <div id="errors" class="doc-section">
                <h2>Error Handling</h2>
                
                <h3>Try-Catch</h3>
                <pre><code>try {
    let x = 10 / 0
} catch (err) {
    print("Error caught:", err)
}</code></pre>
                
                <h3>Error Messages</h3>
                <p>The error variable in the catch block contains the error message as a string. Common errors:</p>
                <ul>
                    <li><code>division by zero</code> ‚Äî from dividing by 0</li>
                    <li><code>Undefined name 'x'</code> ‚Äî variable not declared</li>
                    <li><code>Index error</code> ‚Äî accessing out-of-bounds index</li>
                    <li><code>Module not found</code> ‚Äî import file doesn't exist</li>
                </ul>
                
                <h3>Web Error UI</h3>
                <p>In the web editor, parse errors show an error pane above the code with the exact line and column. The cursor jumps to the error location.</p>
            </div>
            
            <!-- Tips & Tricks -->
            <div id="tips" class="doc-section">
                <h2>Tips & Tricks</h2>
                
                <h3>Auto-Indentation</h3>
                <p>Press <code>Enter</code> to auto-indent. Lines ending with <code>{</code> or <code>:</code> add extra indentation.</p>
                
                <h3>Auto-Bracket Closing</h3>
                <p>Type <code>(</code>, <code>[</code>, <code>{</code>, or <code>"</code> and the closing character appears automatically.</p>
                
                <h3>Keyboard Shortcuts</h3>
                <ul>
                    <li><code>Ctrl+Enter</code> ‚Äî Run code</li>
                    <li><code>Tab</code> ‚Äî Insert 4 spaces for indentation</li>
                </ul>
                
                <h3>Variable Naming</h3>
                <p>Use snake_case for variables and functions:</p>
                <pre><code>let user_name = "Alice"
fun get_full_name(first, last) { return first + " " + last }</code></pre>
                
                <h3>String Escape Sequences</h3>
                <table>
                    <tr>
                        <th>Sequence</th>
                        <th>Meaning</th>
                    </tr>
                    <tr>
                        <td><code>\n</code></td>
                        <td>Newline</td>
                    </tr>
                    <tr>
                        <td><code>\t</code></td>
                        <td>Tab</td>
                    </tr>
                    <tr>
                        <td><code>\\</code></td>
                        <td>Backslash</td>
                    </tr>
                    <tr>
                        <td><code>\"</code></td>
                        <td>Double quote</td>
                    </tr>
                </table>
                
                <h3>Operator Precedence</h3>
                <ol>
                    <li><code>**</code> (power)</li>
                    <li><code>*</code> <code>/</code> <code>%</code> (multiply, divide, modulo)</li>
                    <li><code>+</code> <code>-</code> (add, subtract)</li>
                    <li><code>==</code> <code>!=</code> <code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code> (comparisons)</li>
                    <li><code>not</code> (logical NOT)</li>
                    <li><code>and</code> (logical AND)</li>
                    <li><code>or</code> (logical OR)</li>
                </ol>
                
                <h3>Truthiness</h3>
                <p>In boolean contexts, these are falsy:</p>
                <ul>
                    <li><code>false</code></li>
                    <li><code>null</code></li>
                    <li><code>0</code> and <code>0.0</code></li>
                    <li><code>""</code> (empty string)</li>
                    <li><code>[]</code> (empty list)</li>
                    <li><code>{}</code> (empty dict)</li>
                </ul>
                <p>Everything else is truthy.</p>
            </div>
        </div>
    </div>
    
    <script>
        // Sidebar navigation
        document.querySelectorAll('.sidebar-nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.sidebar-nav a').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Show specific section
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.doc-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show requested section
            document.getElementById(sectionId).classList.add('active');
            
            // Update active link
            document.querySelectorAll('.sidebar-nav a').forEach(a => {
                a.classList.remove('active');
                if (a.getAttribute('onclick').includes(sectionId)) {
                    a.classList.add('active');
                }
            });
            
            // Scroll to top
            document.querySelector('.main-content').scrollTop = 0;
        }
        
        // Set first link as active on load
        document.querySelector('.sidebar-nav a').classList.add('active');
    </script>
</body>
</html>
